@page
@model BugenceEditConsole.Pages.Teams.AcceptInviteModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accept Team Invite | Bugence</title>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@900,700,500,400,300&display=swap" rel="stylesheet">
    <style>
        :root { --bg:#0b1120; --surface:#111827; --border:rgba(255,255,255,0.12); --text:#fff; --muted:#94a3b8; --accent:#06b6d4; --success:#22c55e; --danger:#f59e0b; }
        * { box-sizing:border-box; }
        body { margin:0; min-height:100vh; background:radial-gradient(circle at 0% 0%, rgba(6,182,212,0.12), transparent 40%), var(--bg); color:var(--text); font-family:'Satoshi', sans-serif; display:flex; align-items:center; justify-content:center; padding:24px; }
        .card { width:100%; max-width:520px; background:var(--surface); border:1px solid var(--border); border-radius:18px; padding:32px; box-shadow:0 30px 60px rgba(0,0,0,0.45); }
        h1 { margin:0 0 8px; font-size:1.8rem; }
        p { margin:0 0 16px; color:var(--muted); }
        .alert { padding:12px 14px; border-radius:12px; font-size:0.95rem; margin-bottom:18px; }
        .alert-error { background:rgba(245,158,11,0.15); color:var(--danger); border:1px solid rgba(245,158,11,0.3); }
        .alert-success { background:rgba(34,197,94,0.15); color:var(--success); border:1px solid rgba(34,197,94,0.3); }
        label { display:block; font-size:0.85rem; color:#cbd5f5; margin:14px 0 8px; }
        input { width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--border); background:#0f172a; color:#fff; font-size:0.95rem; }
        input:focus { outline:none; border-color:var(--accent); box-shadow:0 0 0 2px rgba(6,182,212,0.18); }
        .btn { width:100%; margin-top:20px; background:var(--accent); color:#00131a; border:none; padding:12px 16px; border-radius:10px; font-weight:700; cursor:pointer; }
        .meta { display:flex; gap:10px; font-size:0.85rem; color:var(--muted); margin-top:8px; }
        .meta span { background:rgba(255,255,255,0.06); padding:4px 10px; border-radius:999px; }
    </style>
</head>
<body>
    <div class="card">
        <h1>Accept Team Invite</h1>
        <p>Finish your invite so the team can see you in their Bugence dashboard.</p>

        @if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))
        {
            <div class="alert alert-error">@Model.ErrorMessage</div>
        }
        else if (Model.Success)
        {
            <div class="alert alert-success">You're all set! Your info is now visible on the team dashboard.</div>
        }

        @if (!Model.Success && string.IsNullOrWhiteSpace(Model.ErrorMessage))
        {
            <div class="meta">
                <span>Role: @Model.RoleLabel</span>
                <span>Email: @Model.Input.Email</span>
            </div>
            <form method="post">
                @Html.AntiForgeryToken()
                <input type="hidden" name="Input.Token" value="@Model.Input.Token" />
                <input type="hidden" name="Input.Email" value="@Model.Input.Email" />
                <input type="hidden" name="Input.Role" value="@Model.Input.Role" />

                <label for="fullName">Full name</label>
                <input id="fullName" name="Input.FullName" value="@Model.Input.FullName" required />

                <label for="title">Title / Position</label>
                <input id="title" name="Input.Title" value="@Model.Input.Title" placeholder="e.g. Project Manager" />

                <label for="phone">Phone (optional)</label>
                <input id="phone" name="Input.Phone" value="@Model.Input.Phone" placeholder="e.g. +1 555 012 4567" />

                <label for="password">Create password</label>
                <input id="password" name="Input.Password" type="password" minlength="8" required />

                <label for="confirmPassword">Confirm password</label>
                <input id="confirmPassword" name="Input.ConfirmPassword" type="password" minlength="8" required />

                <button class="btn" type="submit">Confirm & Join</button>
            </form>
        }
        else if (Model.Success)
        {
            <p style="margin-top:18px;">You can now close this page.</p>
        }
    </div>
</body>
</html>
